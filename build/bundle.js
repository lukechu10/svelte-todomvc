var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}function $(t,e,n){t.classList[n?"add":"remove"](e)}let y;function b(t){y=t}const v=[],k=[],w=[],_=[],x=Promise.resolve();let A=!1;function C(){A||(A=!0,x.then(T))}function O(t){w.push(t)}let E=!1;const S=new Set;function T(){if(!E){E=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];b(e),L(e.$$)}for(b(null),v.length=0;k.length;)k.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];S.has(e)||(S.add(e),e())}w.length=0}while(v.length);for(;_.length;)_.pop()();A=!1,E=!1,S.clear()}}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const j=new Set;let R;function M(){R={r:0,c:[],p:R}}function V(){R.r||o(R.c),R=R.p}function N(t,e){t&&t.i&&(j.delete(t),t.i(e))}function G(t,e,n,o){if(t&&t.o){if(j.has(t))return;j.add(t),R.c.push((()=>{j.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function I(t,e){G(t,1,1,(()=>{e.delete(t.key)}))}function K(t){t&&t.c()}function P(t,n,c){const{fragment:l,on_mount:i,on_destroy:u,after_update:s}=t.$$;l&&l.m(n,c),O((()=>{const n=i.map(e).filter(r);u?u.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(O)}function U(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(e,r,c,l,i,u,a=[-1]){const d=y;b(e);const f=r.props||{},p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let m=!1;if(p.ctx=c?c(e,f,((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&function(t,e){-1===t.$$.dirty[0]&&(v.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(s)}else p.fragment&&p.fragment.c();r.intro&&N(e.$$.fragment),P(e,r.target,r.anchor),T()}b(d)}class D{$destroy(){U(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class J{static loadTodos(){var t;return JSON.parse(null!==(t=window.localStorage.getItem(this.LOCAL_STORAGE_KEY))&&void 0!==t?t:"[]")}static storeTodos(t){window.localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(t))}}J.LOCAL_STORAGE_KEY="todos-svelte";const q=[];function B(e,n=t){let o;const r=[];function l(t){if(c(e,t)&&(e=t,o)){const t=!q.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),q.push(n,e)}if(t){for(let t=0;t<q.length;t+=2)q[t][0](q[t+1]);q.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(c,i=t){const u=[c,i];return r.push(u),1===r.length&&(o=n(l)||t),c(e),()=>{const t=r.indexOf(u);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}var H="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),W=new Uint8Array(16);function z(){if(!H)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H(W)}var F=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Q(t){return"string"==typeof t&&F.test(t)}for(var X=[],Z=0;Z<256;++Z)X.push((Z+256).toString(16).substr(1));function tt(t,e,n){var o=(t=t||{}).random||(t.rng||z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(X[t[e+0]]+X[t[e+1]]+X[t[e+2]]+X[t[e+3]]+"-"+X[t[e+4]]+X[t[e+5]]+"-"+X[t[e+6]]+X[t[e+7]]+"-"+X[t[e+8]]+X[t[e+9]]+"-"+X[t[e+10]]+X[t[e+11]]+X[t[e+12]]+X[t[e+13]]+X[t[e+14]]+X[t[e+15]]).toLowerCase();if(!Q(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const et=function(){const{subscribe:t,set:e,update:n}=B([]);return{subscribe:t,set:e,add:t=>{const e={name:t,completed:!1,id:tt()};n((t=>[...t,e]))},update:({id:t,completed:e})=>n((n=>n.map((n=>n.id===t?Object.assign(Object.assign({},n),{completed:e}):n)))),updateAll:({completed:t})=>n((e=>e.map((e=>Object.assign(Object.assign({},e),{completed:t}))))),rename:({id:t,name:e})=>n((n=>n.map((n=>n.id===t?Object.assign(Object.assign({},n),{name:e}):n)))),remove:({id:t})=>n((e=>e.filter((e=>e.id!==t)))),clearCompleted:()=>n((t=>t.filter((t=>!t.completed))))}}();var nt;!function(t){t[t.All=0]="All",t[t.Active=1]="Active",t[t.Completed=2]="Completed"}(nt||(nt={}));const ot=function(){const{subscribe:t,set:e,update:n}=B(function(){switch(window.location.hash){case"#/active":return nt.Active;case"#/completed":return nt.Completed;default:return nt.All}}());return{subscribe:t,set:e,update:n}}();function rt(e){let n;return{c(){n=a("footer"),n.innerHTML='<p>Double-click to edit a todo</p> \n    <p>Created by <a href="https://github.com/lukechu10/">lukechu10</a></p> \n    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>',m(n,"class","info")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&s(n)}}}class ct extends D{constructor(t){super(),Y(this,t,null,rt,c,{})}}function lt(t,e,n){const o=t.slice();return o[7]=e[n].key,o[8]=e[n].value,o[9]=e[n].href,o}function it(t){let e,n,o,r,c,l,h,g=t[8]+"";function y(...e){return t[5](t[7],...e)}return{c(){e=a("li"),n=a("a"),o=d(g),c=f(),m(n,"href",r=t[9]),$(n,"selected",t[3]===t[7])},m(t,r){u(t,e,r),i(e,n),i(n,o),i(e,c),l||(h=p(n,"click",y),l=!0)},p(e,o){t=e,24&o&&$(n,"selected",t[3]===t[7])},d(t){t&&s(e),l=!1,h()}}}function ut(e){let n,o,r;return{c(){n=a("button"),n.textContent="Clear completed",m(n,"class","clear-completed")},m(t,e){u(t,n,e),o||(r=p(n,"click",et.clearCompleted),o=!0)},p:t,d(t){t&&s(n),o=!1,r()}}}function st(e){let n,o,r,c,l,p,g,$,y,b,v,k=e[4],w=[];for(let t=0;t<k.length;t+=1)w[t]=it(lt(e,k,t));let _=e[2]&&ut();return{c(){n=a("footer"),o=a("span"),r=a("strong"),c=d(e[0]),l=f(),p=a("span"),g=d(e[1]),$=d(" left"),y=f(),b=a("ul");for(let t=0;t<w.length;t+=1)w[t].c();v=f(),_&&_.c(),m(o,"class","todo-count"),m(b,"class","filters"),m(n,"class","footer")},m(t,e){u(t,n,e),i(n,o),i(o,r),i(r,c),i(o,l),i(o,p),i(p,g),i(p,$),i(n,y),i(n,b);for(let t=0;t<w.length;t+=1)w[t].m(b,null);i(n,v),_&&_.m(n,null)},p(t,[e]){if(1&e&&h(c,t[0]),2&e&&h(g,t[1]),24&e){let n;for(k=t[4],n=0;n<k.length;n+=1){const o=lt(t,k,n);w[n]?w[n].p(o,e):(w[n]=it(o),w[n].c(),w[n].m(b,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=k.length}t[2]?_?_.p(t,e):(_=ut(),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},i:t,o:t,d(t){t&&s(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(w,t),_&&_.d()}}}function at(t,e,n){let o,r;l(t,et,(t=>n(6,o=t))),l(t,ot,(t=>n(3,r=t)));const c=[{key:nt.All,value:"All",href:"./#"},{key:nt.Active,value:"Active",href:"./#/active"},{key:nt.Completed,value:"Completed",href:"./#/completed"}];let i,u,s;return t.$$.update=()=>{64&t.$$.dirty&&n(0,i=o.reduce(((t,e)=>e.completed?t:t+1),0)),1&t.$$.dirty&&n(1,u=1===i?"item":"items"),64&t.$$.dirty&&n(2,s=void 0!==o.find((t=>t.completed)))},[i,u,s,r,c,t=>ot.set(t)]}class dt extends D{constructor(t){super(),Y(this,t,at,st,c,{})}}function ft(e){let n,r,c,l,d,h;return{c(){n=a("header"),r=a("h1"),r.textContent="todos",c=f(),l=a("input"),m(l,"class","new-todo"),m(l,"placeholder","What needs to be done?"),m(n,"class","header")},m(t,o){u(t,n,o),i(n,r),i(n,c),i(n,l),g(l,e[0]),d||(h=[p(l,"input",e[2]),p(l,"keyup",e[1])],d=!0)},p(t,[e]){1&e&&l.value!==t[0]&&g(l,t[0])},i:t,o:t,d(t){t&&s(n),d=!1,o(h)}}}function pt(t,e,n){let o="";return[o,function(t){if("Enter"===t.key){let t=o.trim();""!==t&&(et.add(t),n(0,o=""))}},function(){o=this.value,n(0,o)}]}class mt extends D{constructor(t){super(),Y(this,t,pt,ft,c,{})}}function ht(e){let n,r,c,l,g,y,b,v,k,w,_,x,A;return{c(){n=a("li"),r=a("div"),c=a("input"),g=f(),y=a("label"),b=d(e[3]),v=f(),k=a("button"),w=f(),_=a("input"),m(c,"class","toggle"),m(c,"type","checkbox"),c.checked=l=e[0].completed,m(y,"for","destroy"),m(k,"class","destroy"),m(r,"class","view"),m(_,"class","edit"),_.value=e[3],$(n,"editing",e[1]),$(n,"completed",e[0].completed)},m(t,o){u(t,n,o),i(n,r),i(r,c),i(r,g),i(r,y),i(y,b),i(r,v),i(r,k),i(n,w),i(n,_),e[10](_),x||(A=[p(c,"change",e[4]),p(y,"dblclick",e[6]),p(k,"click",e[5]),p(_,"input",e[7]),p(_,"keyup",e[9]),p(_,"blur",e[8])],x=!0)},p(t,[e]){1&e&&l!==(l=t[0].completed)&&(c.checked=l),8&e&&h(b,t[3]),8&e&&_.value!==t[3]&&(_.value=t[3]),2&e&&$(n,"editing",t[1]),1&e&&$(n,"completed",t[0].completed)},i:t,o:t,d(t){t&&s(n),e[10](null),x=!1,o(A)}}}function gt(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,c){function l(t){try{u(o.next(t))}catch(t){c(t)}}function i(t){try{u(o.throw(t))}catch(t){c(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}u((o=o.apply(t,e||[])).next())}))};let r,c,{todo:l}=e,i=!1;function u(){""===c.trim()?et.remove({id:l.id}):(et.rename({id:l.id,name:c}),n(1,i=!1))}return t.$$set=t=>{"todo"in t&&n(0,l=t.todo)},t.$$.update=()=>{1&t.$$.dirty&&n(3,c=l.name)},[l,i,r,c,function(){et.update({id:l.id,completed:!l.completed})},function(){et.remove({id:l.id})},function(){return o(this,void 0,void 0,(function*(){n(1,i=!0),yield(C(),x),r.focus()}))},function(t){n(3,c=t.currentTarget.value)},u,function(t){switch(t.key){case"Enter":u();break;case"Escape":n(3,c=l.name),n(1,i=!1)}},function(t){k[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class $t extends D{constructor(t){super(),Y(this,t,gt,ht,c,{todo:0})}}function yt(t,e,n){const o=t.slice();return o[6]=e[n],o}function bt(t,e){let n,o,r;return o=new $t({props:{todo:e[6]}}),{key:t,first:null,c(){n=d(""),K(o.$$.fragment),this.first=n},m(t,e){u(t,n,e),P(o,t,e),r=!0},p(t,e){const n={};1&e&&(n.todo=t[6]),o.$set(n)},i(t){r||(N(o.$$.fragment,t),r=!0)},o(t){G(o.$$.fragment,t),r=!1},d(t){t&&s(n),U(o,t)}}}function vt(t){let e,n,r,c,l,d,h,g,$,y=[],b=new Map,v=t[0];const k=t=>t[6].id;for(let e=0;e<v.length;e+=1){let n=yt(t,v,e),o=k(n);b.set(o,y[e]=bt(o,n))}return{c(){e=a("section"),n=a("input"),r=f(),c=a("label"),l=f(),d=a("ul");for(let t=0;t<y.length;t+=1)y[t].c();m(n,"id","toggle-all"),m(n,"class","toggle-all"),m(n,"type","checkbox"),n.readOnly=!0,m(c,"for","toggle-all"),m(d,"class","todo-list"),m(e,"class","main")},m(o,s){u(o,e,s),i(e,n),n.checked=t[1],i(e,r),i(e,c),i(e,l),i(e,d);for(let t=0;t<y.length;t+=1)y[t].m(d,null);h=!0,g||($=[p(n,"change",t[3]),p(c,"click",t[2])],g=!0)},p(t,[e]){if(2&e&&(n.checked=t[1]),1&e){const n=t[0];M(),y=function(t,e,n,o,r,c,l,i,u,s,a,d){let f=t.length,p=c.length,m=f;const h={};for(;m--;)h[t[m].key]=m;const g=[],$=new Map,y=new Map;for(m=p;m--;){const t=d(r,c,m),i=n(t);let u=l.get(i);u?o&&u.p(t,e):(u=s(i,t),u.c()),$.set(i,g[m]=u),i in h&&y.set(i,Math.abs(m-h[i]))}const b=new Set,v=new Set;function k(t){N(t,1),t.m(i,a),l.set(t.key,t),a=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,r=n.key;e===n?(a=e.first,f--,p--):$.has(r)?!l.has(o)||b.has(o)?k(e):v.has(r)?f--:y.get(o)>y.get(r)?(v.add(o),k(e)):(b.add(r),f--):(u(n,l),f--)}for(;f--;){const e=t[f];$.has(e.key)||u(e,l)}for(;p;)k(g[p-1]);return g}(y,e,k,1,t,n,b,d,I,bt,null,yt),V()}},i(t){if(!h){for(let t=0;t<v.length;t+=1)N(y[t]);h=!0}},o(t){for(let t=0;t<y.length;t+=1)G(y[t]);h=!1},d(t){t&&s(e);for(let t=0;t<y.length;t+=1)y[t].d();g=!1,o($)}}}function kt(t,e,n){let o,r,c,i;return l(t,et,(t=>n(4,o=t))),l(t,ot,(t=>n(5,r=t))),t.$$.update=()=>{48&t.$$.dirty&&n(0,c=o.filter((t=>function(t,e){switch(e){case nt.All:return!0;case nt.Active:return!t.completed;case nt.Completed:return t.completed}}(t,r)))),16&t.$$.dirty&&n(1,i=o.every((t=>t.completed)))},[c,i,function(){et.updateAll({completed:!i})},function(){i=this.checked,n(1,i),n(4,o)}]}class wt extends D{constructor(t){super(),Y(this,t,kt,vt,c,{})}}function _t(t){let e,n,o,r;return e=new wt({}),o=new dt({}),{c(){K(e.$$.fragment),n=f(),K(o.$$.fragment)},m(t,c){P(e,t,c),u(t,n,c),P(o,t,c),r=!0},i(t){r||(N(e.$$.fragment,t),N(o.$$.fragment,t),r=!0)},o(t){G(e.$$.fragment,t),G(o.$$.fragment,t),r=!1},d(t){U(e,t),t&&s(n),U(o,t)}}}function xt(t){let e,n,o,r,c,l,d;o=new mt({});let p=t[0].length>0&&_t();return l=new ct({}),{c(){e=a("div"),n=a("section"),K(o.$$.fragment),r=f(),p&&p.c(),c=f(),K(l.$$.fragment),m(n,"class","todoapp"),m(e,"id","app")},m(t,s){u(t,e,s),i(e,n),P(o,n,null),i(n,r),p&&p.m(n,null),i(e,c),P(l,e,null),d=!0},p(t,[e]){t[0].length>0?p?1&e&&N(p,1):(p=_t(),p.c(),N(p,1),p.m(n,null)):p&&(M(),G(p,1,1,(()=>{p=null})),V())},i(t){d||(N(o.$$.fragment,t),N(p),N(l.$$.fragment,t),d=!0)},o(t){G(o.$$.fragment,t),G(p),G(l.$$.fragment,t),d=!1},d(t){t&&s(e),U(o),p&&p.d(),U(l)}}}function At(t,e,n){let o;return l(t,et,(t=>n(0,o=t))),et.set(J.loadTodos()),t.$$.update=()=>{1&t.$$.dirty&&J.storeTodos(o)},[o]}return new class extends D{constructor(t){super(),Y(this,t,At,xt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
